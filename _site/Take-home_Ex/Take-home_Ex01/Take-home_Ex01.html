<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Zhang Shujie (Suzy)">
<meta name="dcterms.date" content="2024-01-16">

<title>SuzyZsj - Take-home Exercise 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../Images/paw.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../Images/bichon.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">SuzyZsj</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-fa-house-chimney-window--home" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text"> Home</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-fa-house-chimney-window--home">    
        <li>
    <a class="dropdown-item" href="../../index.html" rel="" target="">
 <span class="dropdown-text">Home</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../about.html" rel="" target="">
 <span class="dropdown-text">About me</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Hands-on Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercise">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03a/Hands-on_Ex03a.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 3a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03b/Hands-on_Ex03b.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 3b</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 4a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 4b</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04c.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 4c</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 4d</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 5a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 5b</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 5c</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 5d</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 5e</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex06/Hands-on_Ex06.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 6</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">In-class Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercise">    
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex01/In-class_Ex01.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 1</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Take-home Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercise">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html" rel="" target="">
 <span class="dropdown-text">Take-home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html" rel="" target="">
 <span class="dropdown-text">Take-home Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html" rel="" target="">
 <span class="dropdown-text">Take-home Exercise 3</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li class="dropdown-header">Comming soon</li>
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/shujie-zhang-202438267/" rel="" target=""><i class="bi bi-linkedin" role="img" aria-label="Linkedin">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://public.tableau.com/app/profile/shujie.zhang/vizzes" rel="" target=""><i class="bi bi-diagram-3-fill" role="img" aria-label="Tableau">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#project-brief" id="toc-project-brief" class="nav-link active" data-scroll-target="#project-brief">1 Project Brief</a></li>
  <li><a href="#project-objectives" id="toc-project-objectives" class="nav-link" data-scroll-target="#project-objectives">2 Project Objectives</a></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">3 Data Preparation</a>
  <ul class="collapse">
  <li><a href="#install-and-launching-r-packages" id="toc-install-and-launching-r-packages" class="nav-link" data-scroll-target="#install-and-launching-r-packages">3.1 Install and launching R packages</a></li>
  <li><a href="#dataset-organization" id="toc-dataset-organization" class="nav-link" data-scroll-target="#dataset-organization"><strong>3.2 Dataset Organization</strong></a>
  <ul class="collapse">
  <li><a href="#research-variable-selection" id="toc-research-variable-selection" class="nav-link" data-scroll-target="#research-variable-selection"><strong>3.2.1 Research Variable Selection</strong></a></li>
  <li><a href="#data-overview" id="toc-data-overview" class="nav-link" data-scroll-target="#data-overview"><strong>3.2.2 Data overview</strong></a></li>
  <li><a href="#processing-pv-values" id="toc-processing-pv-values" class="nav-link" data-scroll-target="#processing-pv-values">3.2.3 Processing PV Values</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis">4 Exploratory Data Analysis</a>
  <ul class="collapse">
  <li><a href="#distribution-of-performance-in-math-reading-and-science" id="toc-distribution-of-performance-in-math-reading-and-science" class="nav-link" data-scroll-target="#distribution-of-performance-in-math-reading-and-science">4.1 Distribution of performance in math, reading and science</a></li>
  <li><a href="#the-relationship-between-gender-and-academic-performance" id="toc-the-relationship-between-gender-and-academic-performance" class="nav-link" data-scroll-target="#the-relationship-between-gender-and-academic-performance">4.2 The relationship between gender and academic performance</a></li>
  <li><a href="#the-relationship-between-school-and-academic-performance" id="toc-the-relationship-between-school-and-academic-performance" class="nav-link" data-scroll-target="#the-relationship-between-school-and-academic-performance">4.3 The relationship between school and academic performance</a></li>
  <li><a href="#the-relationship-between-socioeconomic-status-and-academic-performance" id="toc-the-relationship-between-socioeconomic-status-and-academic-performance" class="nav-link" data-scroll-target="#the-relationship-between-socioeconomic-status-and-academic-performance">4.4 The relationship between socioeconomic status and academic performance</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">5 Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take-home Exercise 1</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Zhang Shujie (Suzy) </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 16, 2024</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">February 24, 2024</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="project-brief" class="level1">
<h1>1 Project Brief</h1>
<p>While Singapore has made strides in reducing disparities in family wealth, its education policy is committed to ensuring high-quality education in every school. However, the general public still perceives persistent educational inequalities, especially between elite and ordinary community schools, as well as among students from different socioeconomic backgrounds and immigrant families. We will delve deeply into the state of education in Singapore, based on the data provided by the 2022 Programme for International Student Assessment (PISA).</p>
</section>
<section id="project-objectives" class="level1">
<h1>2 Project Objectives</h1>
<p>The aim of this project is to conduct an Exploratory Data Analysis (EDA) using the 2022 PISA data, focusing on students in Singapore. The analysis will explore <code>the distribution of Singaporean students' performance in mathematics, reading, and science, and examine the relationship between these performances and various factors such as school, gender, and socioeconomic status</code>. The analysis will be visualized effectively to communicate the findings derived from the data.</p>
</section>
<section id="data-preparation" class="level1">
<h1>3 Data Preparation</h1>
<section id="install-and-launching-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="install-and-launching-r-packages">3.1 Install and launching R packages</h2>
<p>We use the <code>pacman::p_load()</code> function to load the required R packages into our working environment. The loaded packages are:</p>
<ul>
<li><p><strong>tidyverse</strong>: A collection of packages for data manipulation and visualization, including ggplot2, dplyr, tidyr, etc.</p></li>
<li><p><strong>ggplot2</strong>: For creating complex charts and visualizations.</p></li>
<li><p><strong>dplyr</strong>: For data manipulation and cleaning.</p></li>
<li><p><strong>readr</strong>: For reading CSV files.</p></li>
<li><p><strong>ggpubr</strong>: Provides easy-to-use functions for creating publication-quality charts.</p></li>
<li><p><strong>scales</strong>: For beautifying charts, like adjusting axes.</p></li>
<li><p><strong>lubridate</strong>: For handling date data, if your data includes time information.</p></li>
<li><p><strong>forcats</strong>: For handling categorical variables, which could be useful for dealing with variables like gender and school IDs.</p></li>
<li><p><strong>gridExtra</strong> or <strong>cowplot</strong>: For arranging multiple plots on a single page.</p></li>
<li><p><strong>corrplot</strong>: For visualizing correlations between variables.</p></li>
<li><p><strong>Hmisc</strong>: Contains many functions useful for data analysis, such as descriptive statistics.</p></li>
<li><p><strong>kableExtra</strong>:using for creating and beautifying tables. With the kableExtra package, you can easily add titles, footnotes, change table styles, merge cells, and more.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, ggplot2, dplyr, readr, ggpubr,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>scales,forcats, gridExtra, corrplot, Hmisc, lubridate,knitr, kableExtra,patchwork)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="alert alert-dismissible alert-warning">
<button type="button" class="btn-close" data-bs-dismiss="alert">
</button>
<h4 class="alert-heading anchored">
<p>Notes</p>
</h4>
<p class="mb-0">
</p><p>The R package intsvy allows R users to analyse PISA data among other international large-scale assessments. The use of PISA data via R requires data preparation, and intsvy offers a data transfer function to import data available in other formats directly into R. Intsvy also provides a merge function to merge the student, school, parent, teacher and cognitive databases.</p>
<p>But here we only consider the situation in Singapore and don’t need a comparison between countries, so we don’t use this package.</p>
<p>Please refer to the details for more information.<a href="https://www.oecd.org/pisa/data/httpoecdorgpisadatabase-instructions.htm">Instructions</a></p>
<p></p>
</div>
</section>
<section id="dataset-organization" class="level2">
<h2 class="anchored" data-anchor-id="dataset-organization"><strong>3.2 Dataset Organization</strong></h2>
<p>Read ’stu_qqq_SG’file.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>stu_qqq_SG <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"data/stu_qqq_SG.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="research-variable-selection" class="level3">
<h3 class="anchored" data-anchor-id="research-variable-selection"><strong>3.2.1 Research Variable Selection</strong></h3>
<p>Extracting valuable variables from the original dataset because we are investigating the distribution of academic performance among Singaporean students in mathematics, reading, and science, as well as the relationship between these performances and students’ schools, gender, and socio-economic status.</p>
<p>I have extracted the following variables:</p>
<ul>
<li><p>CNTSTUID:Intl. Student ID</p></li>
<li><p>CNTSCHID:Intl. School ID</p></li>
<li><p>ST004D01T:Student (Standardized) Gender,1 female,2male</p></li>
<li><p>ESCS:Index of economic, social and cultural status</p></li>
<li><p>PV1-10MATH:Plausible Value 1-10 in Mathematics</p></li>
<li><p>PV1-10READ:Plausible Value 1-10 in Reading</p></li>
<li><p>PV1-10SCIE:Plausible Value 1-10 in Science</p></li>
</ul>
<p>The previous table information is too cumbersome. I will extract all these variables to create a new table, making it more conducive to subsequent analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>stu_qqq_SG_01 <span class="ot">&lt;-</span> stu_qqq_SG[, <span class="fu">c</span>(<span class="st">"CNTSTUID"</span>, <span class="st">"CNTSCHID"</span>, <span class="st">"ST004D01T"</span>, <span class="st">"ESCS"</span>,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"PV1MATH"</span>, <span class="st">"PV2MATH"</span>, <span class="st">"PV3MATH"</span>, <span class="st">"PV4MATH"</span>, <span class="st">"PV5MATH"</span>, </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"PV6MATH"</span>, <span class="st">"PV7MATH"</span>, <span class="st">"PV8MATH"</span>, <span class="st">"PV9MATH"</span>, <span class="st">"PV10MATH"</span>, </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"PV1READ"</span>, <span class="st">"PV2READ"</span>, <span class="st">"PV3READ"</span>, <span class="st">"PV4READ"</span>, <span class="st">"PV5READ"</span>, </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"PV6READ"</span>, <span class="st">"PV7READ"</span>, <span class="st">"PV8READ"</span>, <span class="st">"PV9READ"</span>, <span class="st">"PV10READ"</span>, </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"PV1SCIE"</span>, <span class="st">"PV2SCIE"</span>, <span class="st">"PV3SCIE"</span>, <span class="st">"PV4SCIE"</span>, <span class="st">"PV5SCIE"</span>, </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"PV6SCIE"</span>, <span class="st">"PV7SCIE"</span>, <span class="st">"PV8SCIE"</span>, <span class="st">"PV9SCIE"</span>, <span class="st">"PV10SCIE"</span>)]</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(stu_qqq_SG_01,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>          <span class="st">"data/stu_qqq_SG_01.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-overview" class="level3">
<h3 class="anchored" data-anchor-id="data-overview"><strong>3.2.2 Data overview</strong></h3>
<p>Reviewing the table to obtain an overview and understand the general situation of the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>stu_qqq_SG_01 <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"data/stu_qqq_SG_01.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true"><strong>First 5 Rows</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false"><strong>Dataset Structure</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false"><strong>Data Health</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p><strong>Displaying first 5 rows using <code>head()</code>:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stu_qqq_SG_01,<span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_material</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scroll_box</span>(<span class="at">width =</span> <span class="st">"400%"</span>, <span class="at">height =</span> <span class="st">"300px"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:400%; ">
<table class="lightable-material table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">CNTSTUID</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">CNTSCHID</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">ST004D01T</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">ESCS</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV1MATH</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV2MATH</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV3MATH</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV4MATH</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV5MATH</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV6MATH</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV7MATH</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV8MATH</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV9MATH</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV10MATH</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV1READ</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV2READ</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV3READ</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV4READ</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV5READ</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV6READ</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV7READ</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV8READ</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV9READ</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV10READ</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV1SCIE</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV2SCIE</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV3SCIE</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV4SCIE</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV5SCIE</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV6SCIE</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV7SCIE</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV8SCIE</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV9SCIE</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">PV10SCIE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">70200001</td>
<td style="text-align: right;">70200052</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1836</td>
<td style="text-align: right;">639.004</td>
<td style="text-align: right;">601.251</td>
<td style="text-align: right;">621.480</td>
<td style="text-align: right;">631.596</td>
<td style="text-align: right;">579.276</td>
<td style="text-align: right;">591.791</td>
<td style="text-align: right;">600.709</td>
<td style="text-align: right;">587.322</td>
<td style="text-align: right;">618.131</td>
<td style="text-align: right;">581.973</td>
<td style="text-align: right;">676.298</td>
<td style="text-align: right;">692.247</td>
<td style="text-align: right;">690.981</td>
<td style="text-align: right;">643.067</td>
<td style="text-align: right;">627.908</td>
<td style="text-align: right;">684.676</td>
<td style="text-align: right;">661.380</td>
<td style="text-align: right;">674.070</td>
<td style="text-align: right;">666.282</td>
<td style="text-align: right;">657.387</td>
<td style="text-align: right;">710.634</td>
<td style="text-align: right;">618.739</td>
<td style="text-align: right;">591.623</td>
<td style="text-align: right;">659.770</td>
<td style="text-align: right;">635.892</td>
<td style="text-align: right;">646.901</td>
<td style="text-align: right;">603.569</td>
<td style="text-align: right;">621.352</td>
<td style="text-align: right;">659.674</td>
<td style="text-align: right;">649.719</td>
</tr>
<tr class="even">
<td style="text-align: right;">70200002</td>
<td style="text-align: right;">70200134</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.8261</td>
<td style="text-align: right;">697.191</td>
<td style="text-align: right;">754.277</td>
<td style="text-align: right;">671.940</td>
<td style="text-align: right;">657.300</td>
<td style="text-align: right;">621.126</td>
<td style="text-align: right;">655.729</td>
<td style="text-align: right;">747.934</td>
<td style="text-align: right;">694.365</td>
<td style="text-align: right;">742.732</td>
<td style="text-align: right;">656.934</td>
<td style="text-align: right;">625.585</td>
<td style="text-align: right;">686.716</td>
<td style="text-align: right;">663.147</td>
<td style="text-align: right;">567.435</td>
<td style="text-align: right;">614.500</td>
<td style="text-align: right;">604.745</td>
<td style="text-align: right;">669.375</td>
<td style="text-align: right;">623.735</td>
<td style="text-align: right;">649.579</td>
<td style="text-align: right;">571.261</td>
<td style="text-align: right;">670.646</td>
<td style="text-align: right;">748.839</td>
<td style="text-align: right;">635.443</td>
<td style="text-align: right;">639.735</td>
<td style="text-align: right;">608.385</td>
<td style="text-align: right;">670.662</td>
<td style="text-align: right;">734.807</td>
<td style="text-align: right;">639.748</td>
<td style="text-align: right;">716.768</td>
<td style="text-align: right;">655.670</td>
</tr>
<tr class="odd">
<td style="text-align: right;">70200003</td>
<td style="text-align: right;">70200112</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-1.0357</td>
<td style="text-align: right;">693.710</td>
<td style="text-align: right;">654.450</td>
<td style="text-align: right;">696.938</td>
<td style="text-align: right;">646.187</td>
<td style="text-align: right;">678.119</td>
<td style="text-align: right;">644.019</td>
<td style="text-align: right;">720.531</td>
<td style="text-align: right;">671.425</td>
<td style="text-align: right;">694.085</td>
<td style="text-align: right;">668.304</td>
<td style="text-align: right;">620.116</td>
<td style="text-align: right;">559.078</td>
<td style="text-align: right;">554.767</td>
<td style="text-align: right;">587.026</td>
<td style="text-align: right;">591.806</td>
<td style="text-align: right;">570.547</td>
<td style="text-align: right;">599.078</td>
<td style="text-align: right;">545.610</td>
<td style="text-align: right;">610.466</td>
<td style="text-align: right;">590.758</td>
<td style="text-align: right;">666.095</td>
<td style="text-align: right;">604.771</td>
<td style="text-align: right;">704.217</td>
<td style="text-align: right;">687.659</td>
<td style="text-align: right;">690.974</td>
<td style="text-align: right;">617.175</td>
<td style="text-align: right;">692.886</td>
<td style="text-align: right;">630.900</td>
<td style="text-align: right;">656.620</td>
<td style="text-align: right;">649.087</td>
</tr>
<tr class="even">
<td style="text-align: right;">70200004</td>
<td style="text-align: right;">70200004</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-0.9606</td>
<td style="text-align: right;">427.317</td>
<td style="text-align: right;">410.376</td>
<td style="text-align: right;">423.586</td>
<td style="text-align: right;">388.935</td>
<td style="text-align: right;">330.962</td>
<td style="text-align: right;">379.988</td>
<td style="text-align: right;">398.535</td>
<td style="text-align: right;">422.127</td>
<td style="text-align: right;">375.354</td>
<td style="text-align: right;">453.348</td>
<td style="text-align: right;">381.495</td>
<td style="text-align: right;">400.815</td>
<td style="text-align: right;">374.911</td>
<td style="text-align: right;">367.484</td>
<td style="text-align: right;">336.009</td>
<td style="text-align: right;">324.630</td>
<td style="text-align: right;">396.242</td>
<td style="text-align: right;">374.723</td>
<td style="text-align: right;">314.704</td>
<td style="text-align: right;">342.956</td>
<td style="text-align: right;">340.308</td>
<td style="text-align: right;">329.889</td>
<td style="text-align: right;">411.353</td>
<td style="text-align: right;">327.974</td>
<td style="text-align: right;">292.183</td>
<td style="text-align: right;">355.423</td>
<td style="text-align: right;">400.182</td>
<td style="text-align: right;">317.518</td>
<td style="text-align: right;">298.893</td>
<td style="text-align: right;">362.702</td>
</tr>
<tr class="odd">
<td style="text-align: right;">70200005</td>
<td style="text-align: right;">70200152</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.0856</td>
<td style="text-align: right;">436.462</td>
<td style="text-align: right;">453.450</td>
<td style="text-align: right;">392.315</td>
<td style="text-align: right;">439.986</td>
<td style="text-align: right;">443.125</td>
<td style="text-align: right;">452.648</td>
<td style="text-align: right;">396.970</td>
<td style="text-align: right;">459.945</td>
<td style="text-align: right;">438.166</td>
<td style="text-align: right;">448.084</td>
<td style="text-align: right;">448.199</td>
<td style="text-align: right;">560.636</td>
<td style="text-align: right;">365.478</td>
<td style="text-align: right;">469.970</td>
<td style="text-align: right;">503.664</td>
<td style="text-align: right;">481.215</td>
<td style="text-align: right;">436.800</td>
<td style="text-align: right;">531.226</td>
<td style="text-align: right;">480.997</td>
<td style="text-align: right;">478.578</td>
<td style="text-align: right;">456.333</td>
<td style="text-align: right;">453.400</td>
<td style="text-align: right;">498.937</td>
<td style="text-align: right;">532.324</td>
<td style="text-align: right;">508.231</td>
<td style="text-align: right;">504.461</td>
<td style="text-align: right;">404.572</td>
<td style="text-align: right;">549.457</td>
<td style="text-align: right;">411.062</td>
<td style="text-align: right;">473.613</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p><strong>Checking the structure of demo_data using <code>str()</code>:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(stu_qqq_SG_01)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [6,606 × 34] (S3: tbl_df/tbl/data.frame)
 $ CNTSTUID : num [1:6606] 70200001 70200002 70200003 70200004 70200005 ...
  ..- attr(*, "label")= chr "Intl. Student ID"
 $ CNTSCHID : num [1:6606] 70200052 70200134 70200112 70200004 70200152 ...
  ..- attr(*, "label")= chr "Intl. School ID"
 $ ST004D01T: num [1:6606] 1 2 2 2 1 1 2 2 1 2 ...
  ..- attr(*, "label")= chr "Student (Standardized) Gender"
 $ ESCS     : num [1:6606] 0.1836 0.8261 -1.0357 -0.9606 0.0856 ...
  ..- attr(*, "label")= chr "Index of economic, social and cultural status"
 $ PV1MATH  : num [1:6606] 639 697 694 427 436 ...
  ..- attr(*, "label")= chr "Plausible Value 1 in Mathematics"
 $ PV2MATH  : num [1:6606] 601 754 654 410 453 ...
  ..- attr(*, "label")= chr "Plausible Value 2 in Mathematics"
 $ PV3MATH  : num [1:6606] 621 672 697 424 392 ...
  ..- attr(*, "label")= chr "Plausible Value 3 in Mathematics"
 $ PV4MATH  : num [1:6606] 632 657 646 389 440 ...
  ..- attr(*, "label")= chr "Plausible Value 4 in Mathematics"
 $ PV5MATH  : num [1:6606] 579 621 678 331 443 ...
  ..- attr(*, "label")= chr "Plausible Value 5 in Mathematics"
 $ PV6MATH  : num [1:6606] 592 656 644 380 453 ...
  ..- attr(*, "label")= chr "Plausible Value 6 in Mathematics"
 $ PV7MATH  : num [1:6606] 601 748 721 399 397 ...
  ..- attr(*, "label")= chr "Plausible Value 7 in Mathematics"
 $ PV8MATH  : num [1:6606] 587 694 671 422 460 ...
  ..- attr(*, "label")= chr "Plausible Value 8 in Mathematics"
 $ PV9MATH  : num [1:6606] 618 743 694 375 438 ...
  ..- attr(*, "label")= chr "Plausible Value 9 in Mathematics"
 $ PV10MATH : num [1:6606] 582 657 668 453 448 ...
  ..- attr(*, "label")= chr "Plausible Value 10 in Mathematics"
 $ PV1READ  : num [1:6606] 676 626 620 381 448 ...
  ..- attr(*, "label")= chr "Plausible Value 1 in Reading"
 $ PV2READ  : num [1:6606] 692 687 559 401 561 ...
  ..- attr(*, "label")= chr "Plausible Value 2 in Reading"
 $ PV3READ  : num [1:6606] 691 663 555 375 365 ...
  ..- attr(*, "label")= chr "Plausible Value 3 in Reading"
 $ PV4READ  : num [1:6606] 643 567 587 367 470 ...
  ..- attr(*, "label")= chr "Plausible Value 4 in Reading"
 $ PV5READ  : num [1:6606] 628 614 592 336 504 ...
  ..- attr(*, "label")= chr "Plausible Value 5 in Reading"
 $ PV6READ  : num [1:6606] 685 605 571 325 481 ...
  ..- attr(*, "label")= chr "Plausible Value 6 in Reading"
 $ PV7READ  : num [1:6606] 661 669 599 396 437 ...
  ..- attr(*, "label")= chr "Plausible Value 7 in Reading"
 $ PV8READ  : num [1:6606] 674 624 546 375 531 ...
  ..- attr(*, "label")= chr "Plausible Value 8 in Reading"
 $ PV9READ  : num [1:6606] 666 650 610 315 481 ...
  ..- attr(*, "label")= chr "Plausible Value 9 in Reading"
 $ PV10READ : num [1:6606] 657 571 591 343 479 ...
  ..- attr(*, "label")= chr "Plausible Value 10 in Reading"
 $ PV1SCIE  : num [1:6606] 711 671 666 340 456 ...
  ..- attr(*, "label")= chr "Plausible Value 1 in Science"
 $ PV2SCIE  : num [1:6606] 619 749 605 330 453 ...
  ..- attr(*, "label")= chr "Plausible Value 2 in Science"
 $ PV3SCIE  : num [1:6606] 592 635 704 411 499 ...
  ..- attr(*, "label")= chr "Plausible Value 3 in Science"
 $ PV4SCIE  : num [1:6606] 660 640 688 328 532 ...
  ..- attr(*, "label")= chr "Plausible Value 4 in Science"
 $ PV5SCIE  : num [1:6606] 636 608 691 292 508 ...
  ..- attr(*, "label")= chr "Plausible Value 5 in Science"
 $ PV6SCIE  : num [1:6606] 647 671 617 355 504 ...
  ..- attr(*, "label")= chr "Plausible Value 6 in Science"
 $ PV7SCIE  : num [1:6606] 604 735 693 400 405 ...
  ..- attr(*, "label")= chr "Plausible Value 7 in Science"
 $ PV8SCIE  : num [1:6606] 621 640 631 318 549 ...
  ..- attr(*, "label")= chr "Plausible Value 8 in Science"
 $ PV9SCIE  : num [1:6606] 660 717 657 299 411 ...
  ..- attr(*, "label")= chr "Plausible Value 9 in Science"
 $ PV10SCIE : num [1:6606] 650 656 649 363 474 ...
  ..- attr(*, "label")= chr "Plausible Value 10 in Science"</code></pre>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p><strong>Checking for duplicates:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>stu_qqq_SG_01[<span class="fu">duplicated</span>(stu_qqq_SG_01),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 34
# ℹ 34 variables: CNTSTUID &lt;dbl&gt;, CNTSCHID &lt;dbl&gt;, ST004D01T &lt;dbl&gt;, ESCS &lt;dbl&gt;,
#   PV1MATH &lt;dbl&gt;, PV2MATH &lt;dbl&gt;, PV3MATH &lt;dbl&gt;, PV4MATH &lt;dbl&gt;, PV5MATH &lt;dbl&gt;,
#   PV6MATH &lt;dbl&gt;, PV7MATH &lt;dbl&gt;, PV8MATH &lt;dbl&gt;, PV9MATH &lt;dbl&gt;, PV10MATH &lt;dbl&gt;,
#   PV1READ &lt;dbl&gt;, PV2READ &lt;dbl&gt;, PV3READ &lt;dbl&gt;, PV4READ &lt;dbl&gt;, PV5READ &lt;dbl&gt;,
#   PV6READ &lt;dbl&gt;, PV7READ &lt;dbl&gt;, PV8READ &lt;dbl&gt;, PV9READ &lt;dbl&gt;, PV10READ &lt;dbl&gt;,
#   PV1SCIE &lt;dbl&gt;, PV2SCIE &lt;dbl&gt;, PV3SCIE &lt;dbl&gt;, PV4SCIE &lt;dbl&gt;, PV5SCIE &lt;dbl&gt;,
#   PV6SCIE &lt;dbl&gt;, PV7SCIE &lt;dbl&gt;, PV8SCIE &lt;dbl&gt;, PV9SCIE &lt;dbl&gt;, …</code></pre>
</div>
</div>
<p>From the output, there are no duplicated rows found in <em>stu_qqq_SG_01</em>.</p>
<p><strong>Checking for missing values:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(stu_qqq_SG_01))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 47</code></pre>
</div>
</div>
<p>From the output, there are <code>47</code> missing values across all columns in <strong>stu_qqq_SG_01</strong>.</p>
</div>
</div>
</div>
<p><code>Where is the missing value ??!!</code></p>
<p>We found <code>47 missing values</code> in the ESCS column.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true"><strong>The code</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false"><strong>The result</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the location of each missing value in the data set</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>missing_values_locations <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">is.na</span>(stu_qqq_SG_01), <span class="at">arr.ind =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the specific column name</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>missing_values_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Row =</span> missing_values_locations[, <span class="dv">1</span>],</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Column =</span> <span class="fu">names</span>(stu_qqq_SG_01)[missing_values_locations[, <span class="dv">2</span>]]</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co"># View the location of the missing value</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(missing_values_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    Row Column
1    73   ESCS
2   181   ESCS
3   242   ESCS
4   442   ESCS
5   812   ESCS
6  1152   ESCS
7  1340   ESCS
8  1535   ESCS
9  1580   ESCS
10 1647   ESCS
11 1807   ESCS
12 1926   ESCS
13 1994   ESCS
14 2027   ESCS
15 2046   ESCS
16 2254   ESCS
17 2449   ESCS
18 2463   ESCS
19 2504   ESCS
20 3125   ESCS
21 3134   ESCS
22 3163   ESCS
23 3222   ESCS
24 3327   ESCS
25 3672   ESCS
26 3902   ESCS
27 3931   ESCS
28 3950   ESCS
29 4003   ESCS
30 4154   ESCS
31 4191   ESCS
32 4218   ESCS
33 4673   ESCS
34 4708   ESCS
35 4785   ESCS
36 4898   ESCS
37 5122   ESCS
38 5555   ESCS
39 5560   ESCS
40 5659   ESCS
41 5950   ESCS
42 5990   ESCS
43 6081   ESCS
44 6124   ESCS
45 6157   ESCS
46 6196   ESCS
47 6592   ESCS</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>The Economic, Social, and Cultural Status Index (ESCS) is a <strong>crucial indicator</strong>, and removing observations with missing ESCS values directly may result in sample bias. <code>I choose to retain the missing values.</code></p>
</section>
<section id="processing-pv-values" class="level3">
<h3 class="anchored" data-anchor-id="processing-pv-values">3.2.3 Processing PV Values</h3>
<p>Due to the presence of 10 plausible values (PVs) for performance in mathematics, reading, and science, I will take the <code>average PV</code> for each subject to facilitate subsequent EDA visualization.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true"><strong>The result</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false"><strong>The code</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  CNTSTUID CNTSCHID ST004D01T    ESCS MeanMATH MeanREAD MeanSCIE MeanOverall
     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;       &lt;dbl&gt;
1 70200001 70200052         1  0.184      605.     667.     640.        637.
2 70200002 70200134         2  0.826      690.     628.     672.        663.
3 70200003 70200112         2 -1.04       677.     583.     660.        640.
4 70200004 70200004         2 -0.961      401.     361.     344.        369.
5 70200005 70200152         1  0.0856     436.     476.     479.        464.
6 70200006 70200043         1  0.127      518.     431.     476.        475.</code></pre>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>stu_qqq_SG_01 <span class="ot">&lt;-</span> stu_qqq_SG_01 <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">MeanMATH =</span> <span class="fu">mean</span>(<span class="fu">c</span>(PV1MATH, PV2MATH, PV3MATH, PV4MATH, PV5MATH, </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>                      PV6MATH, PV7MATH, PV8MATH, PV9MATH, PV10MATH), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">MeanREAD =</span> <span class="fu">mean</span>(<span class="fu">c</span>(PV1READ, PV2READ, PV3READ, PV4READ, PV5READ, </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>                      PV6READ, PV7READ, PV8READ, PV9READ, PV10READ), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">MeanSCIE =</span> <span class="fu">mean</span>(<span class="fu">c</span>(PV1SCIE, PV2SCIE, PV3SCIE, PV4SCIE, PV5SCIE, </span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>                      PV6SCIE, PV7SCIE, PV8SCIE, PV9SCIE, PV10SCIE), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">MeanOverall=</span><span class="fu">mean</span>(<span class="fu">c</span>(PV1MATH, PV2MATH, PV3MATH, PV4MATH, PV5MATH, </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>                      PV6MATH, PV7MATH, PV8MATH, PV9MATH, PV10MATH,</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>                      PV1READ, PV2READ, PV3READ, PV4READ, PV5READ, </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>                      PV6READ, PV7READ, PV8READ, PV9READ, PV10READ,</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>                      PV1SCIE, PV2SCIE, PV3SCIE, PV4SCIE, PV5SCIE, </span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>                      PV6SCIE, PV7SCIE, PV8SCIE, PV9SCIE, PV10SCIE), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="sc">-</span><span class="fu">matches</span>(<span class="st">"^PV</span><span class="sc">\\</span><span class="st">d+MATH$"</span>), <span class="sc">-</span><span class="fu">matches</span>(<span class="st">"^PV</span><span class="sc">\\</span><span class="st">d+READ$"</span>), </span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>       <span class="sc">-</span><span class="fu">matches</span>(<span class="st">"^PV</span><span class="sc">\\</span><span class="st">d+SCIE$"</span>), MeanMATH, MeanREAD, MeanSCIE,MeanOverall)</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stu_qqq_SG_01)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>I have now extracted the useful parts from the original table, retaining variables such as <strong><em>CNTSTUID, CNTSCHID, ST004D01T, ESCS, MeanMATH, MeanREAD, MeanSCIE, and MeanOverall</em></strong>. The next step would be to conduct EDA (Exploratory Data Analysis).</p>
</section>
</section>
</section>
<section id="exploratory-data-analysis" class="level1">
<h1>4 Exploratory Data Analysis</h1>
<section id="distribution-of-performance-in-math-reading-and-science" class="level2">
<h2 class="anchored" data-anchor-id="distribution-of-performance-in-math-reading-and-science">4.1 Distribution of performance in math, reading and science</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>stu_melted <span class="ot">&lt;-</span> reshape2<span class="sc">::</span><span class="fu">melt</span>(stu_qqq_SG_01, <span class="at">id.vars =</span> <span class="st">"CNTSTUID"</span>, <span class="at">measure.vars =</span> <span class="fu">c</span>(<span class="st">"MeanMATH"</span>, <span class="st">"MeanREAD"</span>, <span class="st">"MeanSCIE"</span>))</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>average_scores <span class="ot">&lt;-</span> stu_melted <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">MeanScore =</span> <span class="fu">mean</span>(value, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(stu_melted, <span class="fu">aes</span>(<span class="at">x =</span> variable, <span class="at">y =</span> value, <span class="at">fill =</span> variable)) <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.colour =</span> <span class="st">"blue"</span>, <span class="at">outlier.shape =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> average_scores, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(MeanScore, <span class="dv">1</span>), <span class="at">y =</span> MeanScore), </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.75</span>), <span class="at">vjust =</span><span class="fl">1.8</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.y=</span>mean, <span class="at">geom=</span><span class="st">"point"</span>, <span class="at">shape=</span><span class="dv">20</span>, <span class="at">size=</span><span class="dv">3</span>, <span class="at">color=</span><span class="st">"red"</span>, <span class="at">fill=</span><span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"MeanMATH"</span> <span class="ot">=</span> <span class="st">"Math"</span>, <span class="st">"MeanREAD"</span> <span class="ot">=</span> <span class="st">"Reading"</span>, <span class="st">"MeanSCIE"</span> <span class="ot">=</span> <span class="st">"Science"</span>)) <span class="sc">+</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Pastel1"</span>) <span class="sc">+</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of subject performance value"</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Subject"</span>,</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Performance value"</span>) <span class="sc">+</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(stu_qqq_SG_01, <span class="fu">aes</span>(<span class="at">x =</span> MeanOverall)) <span class="sc">+</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> MeanMATH, <span class="at">color =</span> <span class="st">"Math"</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">y =</span> MeanMATH, <span class="at">color =</span> <span class="st">"Math"</span>), <span class="at">method =</span> <span class="st">'lm'</span>) <span class="sc">+</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> MeanREAD, <span class="at">color =</span> <span class="st">"Reading"</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">y =</span> MeanREAD, <span class="at">color =</span> <span class="st">"Reading"</span>), <span class="at">method =</span> <span class="st">'lm'</span>) <span class="sc">+</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> MeanSCIE, <span class="at">color =</span> <span class="st">"Science"</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">y =</span> MeanSCIE, <span class="at">color =</span> <span class="st">"Science"</span>), <span class="at">method =</span> <span class="st">'lm'</span>) <span class="sc">+</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Math"</span> <span class="ot">=</span> <span class="st">"salmon"</span>, <span class="st">"Reading"</span> <span class="ot">=</span> <span class="st">"steelblue1"</span>, <span class="st">"Science"</span> <span class="ot">=</span> <span class="st">"darkseagreen"</span>),</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>                     <span class="at">name =</span> <span class="st">"Subject"</span>, </span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Math"</span> <span class="ot">=</span> <span class="st">"Math"</span>, <span class="st">"Reading"</span> <span class="ot">=</span> <span class="st">"Reading"</span>, <span class="st">"Science"</span> <span class="ot">=</span> <span class="st">"Science"</span>)) <span class="sc">+</span></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Relationship Between MeanOverall and Three Subjects"</span>,</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"MeanOverall"</span>, <span class="at">y =</span> <span class="st">"Score"</span>)</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>p1<span class="sc">+</span>p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<div class="insightbox">
<p>Insights：</p>
<ul>
<li><p>Singaporean students perform best on average in Mathematics, with Reading being the lowest.</p></li>
<li><p>Reading and Science seem to have more outliers, suggesting that scores in these subjects may have more extreme cases.</p></li>
<li><p>However, overall, the average scores of the three subjects are not significantly different, indicating a relatively balanced performance across subjects among Singaporean students.</p></li>
</ul>
</div>
</section>
<section id="the-relationship-between-gender-and-academic-performance" class="level2">
<h2 class="anchored" data-anchor-id="the-relationship-between-gender-and-academic-performance">4.2 The relationship between gender and academic performance</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>stu_long <span class="ot">&lt;-</span> reshape2<span class="sc">::</span><span class="fu">melt</span>(stu_qqq_SG_01, <span class="at">id.vars =</span> <span class="fu">c</span>(<span class="st">"CNTSTUID"</span>, <span class="st">"ST004D01T"</span>), </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">measure.vars =</span> <span class="fu">c</span>(<span class="st">"MeanMATH"</span>, <span class="st">"MeanREAD"</span>, <span class="st">"MeanSCIE"</span>,<span class="st">"MeanOverall"</span>),</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">variable.name =</span> <span class="st">"Subject"</span>, <span class="at">value.name =</span> <span class="st">"Score"</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>stu_long<span class="sc">$</span>Subject <span class="ot">&lt;-</span> <span class="fu">factor</span>(stu_long<span class="sc">$</span>Subject, </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"MeanMATH"</span>, <span class="st">"MeanREAD"</span>, <span class="st">"MeanSCIE"</span>,<span class="st">"MeanOverall"</span>),</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Math"</span>, <span class="st">"Reading"</span>, <span class="st">"Science"</span>,<span class="st">"Overall"</span>))</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the average score for each subject and gender combination</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>average_scores <span class="ot">&lt;-</span> stu_long <span class="sc">%&gt;%</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Subject, ST004D01T) <span class="sc">%&gt;%</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">AverageScore =</span> <span class="fu">mean</span>(Score, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot box plots and add numerical values of average scores, using facet_wrap to arrange into a two-row and two-column layout</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(stu_long, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(ST004D01T), <span class="at">y =</span> Score, <span class="at">fill =</span> <span class="fu">as.factor</span>(ST004D01T))) <span class="sc">+</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.colour =</span> <span class="st">"red"</span>, <span class="at">outlier.shape =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> average_scores, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"%.1f"</span>, AverageScore), </span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">y =</span> AverageScore), </span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.75</span>), </span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">2.5</span>, </span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"black"</span>,</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Subject, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gender"</span>, <span class="at">y =</span> <span class="st">"Average Score"</span>, </span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"The Relationship Between Gender and Academic Performance"</span>) <span class="sc">+</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Gender"</span>, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"1"</span> <span class="ot">=</span> <span class="st">"Female"</span>, <span class="st">"2"</span> <span class="ot">=</span> <span class="st">"Male"</span>)) <span class="sc">+</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<div class="insightbox">
<p>Insights:</p>
<ul>
<li><p>In Mathematics and Science, boys have higher average scores than girls. In Reading, girls have higher average scores than boys.</p></li>
<li><p>Across all three subjects, the distribution of boys’ scores is more concentrated, suggesting they might have more consistency in their performance. In contrast, the distribution of girls’ scores in Mathematics and Science is more dispersed, indicating a wider range of variability in their scores.</p></li>
<li><p>Although the overall academic performance across subjects is balanced between boys and girls, girls are slightly ahead. Girls’ performance across subjects appears to be more stable.</p></li>
</ul>
</div>
</section>
<section id="the-relationship-between-school-and-academic-performance" class="level2">
<h2 class="anchored" data-anchor-id="the-relationship-between-school-and-academic-performance">4.3 The relationship between school and academic performance</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>number_of_schools <span class="ot">&lt;-</span> stu_qqq_SG_01 <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">NumberOfSchools =</span> <span class="fu">n_distinct</span>(CNTSCHID))</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>number_of_schools</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  NumberOfSchools
            &lt;int&gt;
1             164</code></pre>
</div>
</div>
<p>There are a total of 164 schools.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>long_data <span class="ot">&lt;-</span> stu_qqq_SG_01 <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="at">key =</span> <span class="st">"Subject"</span>, <span class="at">value =</span> <span class="st">"Score"</span>, MeanMATH, MeanREAD, MeanSCIE, MeanOverall) <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(CNTSCHID, Subject) <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">AverageScore =</span> <span class="fu">mean</span>(Score, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Label =</span> <span class="fu">ifelse</span>(AverageScore <span class="sc">&gt;</span> <span class="dv">650</span> <span class="sc">|</span> AverageScore <span class="sc">&lt;</span> <span class="dv">450</span>, <span class="fu">as.character</span>(CNTSCHID), <span class="st">""</span>))</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dot plot to compare the average performance of different schools</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(long_data, <span class="fu">aes</span>(<span class="at">x =</span> CNTSCHID, <span class="at">y =</span> AverageScore, <span class="at">color =</span> Subject)) <span class="sc">+</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> Label), <span class="at">check_overlap =</span> <span class="cn">TRUE</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Comparison of School Performance in Subjects"</span>,</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"School ID"</span>, <span class="at">y =</span> <span class="st">"Average Score"</span>) <span class="sc">+</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>) <span class="sc">+</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<p>From the graph, it is evident that the performance levels of most schools in Singapore are concentrated between <code>450 and 650</code>, with only a few falling outside this range. I have marked the school IDs that fall outside this range. It can be seen that the school with IDs ending in <code>01</code>、<code>40</code>、<code>82</code>、<code>101</code>、<code>199</code>、<code>155</code>shows excellent performance in all three subjects, while schools with IDs ending in <code>115</code> and <code>149</code> exhibit relatively poor performance in all three subjects.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>school_performance <span class="ot">&lt;-</span> stu_qqq_SG_01 <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(CNTSCHID) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">AvgMath =</span> <span class="fu">mean</span>(MeanMATH, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">AvgReading =</span> <span class="fu">mean</span>(MeanREAD, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">AvgScience =</span> <span class="fu">mean</span>(MeanSCIE, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">AvgOverall=</span> <span class="fu">mean</span>(MeanOverall, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="at">key =</span> <span class="st">"Subject"</span>, <span class="at">value =</span> <span class="st">"AverageScore"</span>, AvgMath, AvgReading, AvgScience,AvgOverall)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Use box plots to visualize the average scores of different schools</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(school_performance, <span class="fu">aes</span>(<span class="at">x =</span> CNTSCHID, <span class="at">y =</span> AverageScore, <span class="at">fill =</span> Subject)) <span class="sc">+</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Subject, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"School ID"</span>, <span class="at">y =</span> <span class="st">"Average Score"</span>, <span class="at">title =</span> <span class="st">"School Influence on Academic Performance"</span>) <span class="sc">+</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="dv">1</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<p>From the box plots, it is observable that the average academic performance of most schools in Singapore lies between <code>500 and 600</code>. The majority of schools perform better in Mathematics and Science, with slightly lower performance in Reading, yet still within a reasonable range. The mean values also fall within a sensible range, with very few outliers.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the quartiles and outlier thresholds for each course in every school</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>school_quartiles <span class="ot">&lt;-</span> school_performance <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(CNTSCHID, Subject) <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Q1 =</span> <span class="fu">quantile</span>(AverageScore, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Q3 =</span> <span class="fu">quantile</span>(AverageScore, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">IQR =</span> Q3 <span class="sc">-</span> Q1,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">LowerBound =</span> Q1 <span class="sc">-</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Use inner_join to find outliers in the original data</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>outliers <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(school_performance, school_quartiles, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"CNTSCHID"</span>, <span class="st">"Subject"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(AverageScore <span class="sc">&lt;</span> LowerBound) <span class="sc">%&gt;%</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(CNTSCHID, Subject)</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify school IDs that overlap in the lower outliers for Mathematics, Reading, Science, and Overall Average Scores</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>overlapping_schools <span class="ot">&lt;-</span> outliers <span class="sc">%&gt;%</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(CNTSCHID) <span class="sc">%&gt;%</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(CNTSCHID) <span class="sc">%&gt;%</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the overlapping outliers</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>overlapping_schools</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 7
# ℹ 7 variables: CNTSCHID &lt;dbl&gt;, Subject &lt;chr&gt;, AverageScore &lt;dbl&gt;, Q1 &lt;dbl&gt;,
#   Q3 &lt;dbl&gt;, IQR &lt;dbl&gt;, LowerBound &lt;dbl&gt;</code></pre>
</div>
</div>
<p>The results show that there is no single school with outliers in the same subjects, proving that the outliers originate from different schools.</p>
<div class="insightbox">
<p>Insights:</p>
<ul>
<li><p>The overall level of schools in Singapore tends to be balanced, with no significant differences and no “extreme schools” appearing in the high or low outliers for each subject.</p></li>
<li><p>However, there is still some differentiation in subject performance levels among schools, as some schools, despite not appearing in the outliers, exhibit overall higher or lower levels in certain subjects.</p></li>
<li><p>Additionally, the number of schools excelling in subject performance is greater than those performing below the average level.</p></li>
<li><p>Most schools fall within a reasonable range of performance, with both strengths and weaknesses coexisting.</p></li>
</ul>
</div>
</section>
<section id="the-relationship-between-socioeconomic-status-and-academic-performance" class="level2">
<h2 class="anchored" data-anchor-id="the-relationship-between-socioeconomic-status-and-academic-performance">4.4 The relationship between socioeconomic status and academic performance</h2>
<p>Since the three subjects and the overall average scores show a positive correlation, I have chosen to analyze the relationship between socioeconomic status and academic performance using MeanOverall and MeanSCIE.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true"><strong>Scatter plot</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false"><strong>Correlation test</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(stu_qqq_SG_01, <span class="fu">aes</span>(<span class="at">x =</span> ESCS)) <span class="sc">+</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> MeanOverall, <span class="at">color =</span> <span class="st">"Overall"</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">y =</span> MeanOverall, <span class="at">color =</span> <span class="st">"Overall"</span>), <span class="at">method =</span> <span class="st">'lm'</span>) <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> MeanSCIE, <span class="at">color =</span> <span class="st">"Science"</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">y =</span> MeanSCIE, <span class="at">color =</span> <span class="st">"Science"</span>), <span class="at">method =</span> <span class="st">'lm'</span>) <span class="sc">+</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Overall"</span> <span class="ot">=</span> <span class="st">"lightseagreen"</span>, <span class="st">"Science"</span> <span class="ot">=</span> <span class="st">"palevioletred1"</span>),</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">name =</span> <span class="st">"Subject"</span>, </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Overall"</span> <span class="ot">=</span> <span class="st">"Mean Overall"</span>, <span class="st">"Science"</span> <span class="ot">=</span> <span class="st">"Mean Science"</span>)) <span class="sc">+</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Relationship Between ESCS and Academic Performance"</span>,</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"ESCS Index"</span>, <span class="at">y =</span> <span class="st">"Score"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<p>To determine if there is an association between the two groups, conduct a correlation analysis test.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>cor_overall_escs <span class="ot">&lt;-</span> <span class="fu">cor</span>(stu_qqq_SG_01<span class="sc">$</span>MeanOverall, stu_qqq_SG_01<span class="sc">$</span>ESCS, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>cor_science_escs <span class="ot">&lt;-</span> <span class="fu">cor</span>(stu_qqq_SG_01<span class="sc">$</span>MeanSCIE, stu_qqq_SG_01<span class="sc">$</span>ESCS, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>lm_overall <span class="ot">&lt;-</span> <span class="fu">lm</span>(MeanOverall <span class="sc">~</span> ESCS, <span class="at">data =</span> stu_qqq_SG_01)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>lm_science <span class="ot">&lt;-</span> <span class="fu">lm</span>(MeanSCIE <span class="sc">~</span> ESCS, <span class="at">data =</span> stu_qqq_SG_01)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>lm_overall</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = MeanOverall ~ ESCS, data = stu_qqq_SG_01)

Coefficients:
(Intercept)         ESCS  
     544.90        51.28  </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>lm_science</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = MeanSCIE ~ ESCS, data = stu_qqq_SG_01)

Coefficients:
(Intercept)         ESCS  
     547.01        50.03  </code></pre>
</div>
</div>
<p>There is a significant <code>positive correlation</code> between ESCS and students’ overall average scores and science scores, indicating that a higher economic, social, and cultural status is associated with better academic performance. Students who perform poorly due to unfavorable socioeconomic conditions may require some socioeconomic assistance.</p>
</div>
</div>
</div>
<div class="insightbox">
<p>Insights: - Due to the positive correlation observed among the subjects, the scatter plot and correlation analysis indicate that there is a certain relationship between academic performance and socioeconomic status. Students from lower socioeconomic backgrounds tend to have poorer academic performance, while those from better socioeconomic circumstances tend to perform better academically.</p>
<ul>
<li>Based on these findings, recommendations can be made to Singaporean government departments and educational institutions. It is suggested to provide support and assistance to students from lower socioeconomic backgrounds to explore the possibility of improving overall academic performance. It is also possible that students from higher socioeconomic backgrounds have the opportunity to attend schools with stronger teaching capabilities.</li>
</ul>
</div>
</section>
</section>
<section id="conclusion" class="level1">
<h1>5 Conclusion</h1>
<ul>
<li><p><strong>Is there a correlation in the distribution of Singaporean students’ academic performance across subjects?</strong></p>
<p>Singaporean students’ academic scores show a high correlation with overall performance. Schools that excel in one subject typically also excel in other subjects and overall. However, in my analysis, I did not conduct further tests. The correlation is evident from the visualization, and further validation can be done if necessary.</p></li>
<li><p><strong>Is there a relationship between academic performance and gender?</strong></p>
<p>Indeed, there are differences in performance across subjects between male and female students. For example, boys perform better in Mathematics and Science, while girls excel in Reading. However, on average, girls show more stable overall performance. But overall, the performance between boys and girls tends to be balanced.</p></li>
<li><p><strong>Is there a difference in performance between different schools?</strong></p>
<p>There are some differences in the performance levels of different schools, but it’s not extreme. Each school has students who perform at high levels and those who perform less well, but there’s no absolute good or bad.</p></li>
<li><p><strong>Is there a relationship between academic performance and socioeconomic status (ESCS)?</strong></p>
<p>Yes, there is a significant positive correlation, indicating that students with a higher socioeconomic status perform better in Mathematics, Reading, and Science. Regression analysis shows that ESCS is an important variable in predicting academic performance, significantly impacting overall student achievement. Therefore, consideration can be given to assisting students from lower socioeconomic backgrounds.</p></li>
</ul>
<p>Here, I have chosen a few perspectives for analysis. Further detailed analyses, such as cluster analysis, could reveal more intrinsic phenomena.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>